# Production Environment Configuration
# For deployment to production servers

# ================================
# APPLICATION
# ================================
NODE_ENV=production
PORT=5000
APP_NAME=DGA Oversight Platform

# ================================
# DATABASE - Prisma Cloud PostgreSQL
# ================================
DB_HOST=db.prisma.io
DB_PORT=5432
DB_NAME=dga_oversight_prod
DB_USER=${PROD_DB_USER}
DB_PASSWORD=${PROD_DB_PASSWORD}
DB_SSL=true
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_TIMEOUT=30000

DATABASE_URL=postgresql://${PROD_DB_USER}:${PROD_DB_PASSWORD}@db.prisma.io:5432/dga_oversight_prod?sslmode=require

# ================================
# AUTHENTICATION & SECURITY
# ================================
JWT_SECRET=${PROD_JWT_SECRET}
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=12

# ================================
# CORS CONFIGURATION
# ================================
CORS_ORIGINS=${PROD_FRONTEND_URL}

# ================================
# RATE LIMITING (Stricter in production)
# ================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=50
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_REQUESTS=5
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MS=1800000

# ================================
# LOGGING
# ================================
LOG_LEVEL=warn
LOG_FILE=logs/production.log
LOG_MAX_SIZE=50m
LOG_MAX_FILES=30d

# ================================
# EXTERNAL SERVICES
# ================================
SENTRY_DSN=${PROD_SENTRY_DSN}
SMTP_HOST=${PROD_SMTP_HOST}
SMTP_PORT=587
SMTP_USER=${PROD_SMTP_USER}
SMTP_PASSWORD=${PROD_SMTP_PASSWORD}
SMTP_FROM=noreply@dga.gov.sa

# ================================
# FEATURE FLAGS
# ================================
ENABLE_SWAGGER=false
ENABLE_METRICS=true
ENABLE_DEBUG_LOGS=false

# ================================
# CACHE CONFIGURATION
# ================================
CACHE_ENABLED=true
CACHE_TTL=600
REDIS_URL=${PROD_REDIS_URL}

# ================================
# ADVANCED FEATURES
# ================================
ANALYTICS_ENABLED=true
PREDICTION_CONFIDENCE_THRESHOLD=0.85
COMPLIANCE_CHECK_INTERVAL=3600000
AUDIT_RETENTION_DAYS=730
WORKFLOW_ENABLED=true
AUTO_APPROVAL_THRESHOLD=50000
NOTIFICATION_ENABLED=true

# ================================
# MONITORING
# ================================
HEALTH_CHECK_INTERVAL=30000
METRICS_PORT=9090

# ================================
# DEPLOYMENT
# ================================
DEPLOYMENT_ENV=production
INSTANCE_ID=${INSTANCE_ID}
REGION=riyadh
